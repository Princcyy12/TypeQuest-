<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TypeQuest — Light Typing Master</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

  <!-- NAV -->
  <header>
    <div class="brand" onclick="scrollToId('home')">
      <div class="logo" aria-hidden>
        <!-- inline svg logo (also used in certificate) -->
        <svg id="logo-svg" width="36" height="36" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <rect x="6" y="20" width="88" height="60" rx="14" fill="#e8f7fb"/>
          <rect x="22" y="34" width="12" height="10" rx="2" fill="#009688"/>
          <rect x="38" y="34" width="12" height="10" rx="2" fill="#009688"/>
          <rect x="54" y="34" width="12" height="10" rx="2" fill="#009688"/>
          <rect x="22" y="50" width="44" height="10" rx="2" fill="#009688"/>
          <path d="M72 54 L86 70 L72 86" stroke="#2196f3" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h1>TypeQuest</h1>
    </div>

    <nav>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#practice">Practice</a></li>
        <li><a href="#games">Games</a></li>
        <li><a href="#test">Test</a></li>
        <li><a href="#analytics">Analytics</a></li>
        <li><a href="#challenges">Challenge</a></li>
      </ul>
    </nav>

    <div class="nav-actions">
      <button class="icon-btn" id="accentToggle" title="Toggle Accent (teal/blue)">Accent</button>
      <button class="icon-btn" id="profileBtn" title="Open profile" >Profile</button>
      <button class="btn" id="startNow">Start Practicing</button>
    </div>
  </header>

  <main id="home">

    <!-- HERO / DASHBOARD -->
    <section class="card fade-in">
      <div style="display:flex;justify-content:space-between;gap:18px;align-items:center">
        <div style="flex:1">
          <div style="display:flex;gap:14px;align-items:center">
            <div style="font-weight:800;font-size:22px">Hi, <span id="displayName">Guest</span></div>
             <div style="background-color:var(--accent);color:white; padding:6px 10px;border-radius:12px;font-weight:800">Let's Start Typing</div>
          </div> 
          
          <div class="muted" style="margin-top:8px">Practice daily with fun games and track your improvement over time.</div>
        </div>

        <div style="width:360px;">
          <div class="small-card card" style="padding:12px">
            <div class="muted">Today's Goal</div>
            <div style="font-weight:900;font-size:20px;margin-top:6px">15 minutes practice</div>
            <div class="muted" style="margin-top:8px">Progress: <span id="dailyProgress">0</span>%</div>
            <div style="margin-top:10px" class="controls">
              <button class="btn" onclick="scrollToId('practice')">Practice</button>
              <button class="btn secondary" onclick="scrollToId('games')">Games</button>
            </div>
          </div>
        </div>
      </div>

      <div class="dash-cards" style="margin-top:14px">
        <div class="small-card">
          <div class="muted">Latest WPM</div>
          <div class="stat" id="latestWPM">--</div>
        </div>
        <div class="small-card">
          <div class="muted">Accuracy (last)</div>
          <div class="stat" id="latestAcc">--</div>
        </div>
        <div class="small-card">
          <div class="muted">Streak</div>
          <div class="stat" id="streakCount">0</div>
        </div>
      </div>
    </section>

    <!-- PRACTICE -->
    <section id="practice" class="card fade-in">
      <h2>Practice Mode</h2>
      <div class="muted">Drills, custom text and keyboard focus. Use the Home Row drill to start.</div>

      <div class="row" style="margin-top:12px">
        <div class="col card" style="background-color: white;">
          <div class="muted" style="font-size: larger;">Home Row Drill</div>
          <div class="display-word" id="practiceWord" style="margin-top:8px" > Ready</div>
          <input id="practiceInput" placeholder="Type the shown word and press Enter" onkeydown="if(event.key==='Enter') practiceCheck()">
          <div class="controls" style="margin-top:10px">
            <button class="btn" onclick="startPractice()">Start Drill</button>
            <button class="btn secondary" onclick="stopPractice()">Stop</button>
            <div class="muted" style="margin-left:auto">Completed: <span id="practiceDone">0</span></div>
          </div>
        </div>

        <aside class="aside">
          <div class="card"   style="background-color: white;">
            <div class="muted" style="font-size: larger; color: solid black;">Custom Practice</div>
            <textarea id="customText">The quick brown fox jumps over the lazy dog.</textarea>
            <div class="controls" style="margin-top:10px">
              <button class="btn" onclick="startCustomPractice()">Start Custom</button>
            </div>
          </div>

          <div style="height:12px"></div>

          <div class="card">
            <div class="muted">Virtual Keyboard</div>
            <div style="margin-top:8px" class="muted">(visual hint) — highlights implemented in JS placeholder.</div>
          </div>
        </aside>
      </div>
    </section>

    <!-- GAMES -->
    <section id="games" class="card fade-in">
      <h2>Typing Games</h2>
      <div class="muted">Play games to train speed & accuracy. Leaderboard is local to your browser.</div>

      <div class="row" style="margin-top:12px">
        <div class="col card" style="background-color: white;">
          <div style="display:flex;justify-content:space-between;align-items:center; background-color: white;">
            <div>
              <div style="font-weight:800">Falling Words</div>
              <div class="muted">Type falling words before they reach the bottom.</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Score</div>
              <div style="font-weight:900;color:var(--accent)"><span id="fallScore">0</span></div>
            </div>
          </div>

          <div class="falling-area" id="fallArea" style="margin-top:12px;"></div>

          <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
            <input id="fallInput" placeholder="Type a word and press Enter" onkeydown="if(event.key==='Enter') handleFallInput()">
            <button class="btn" id="startFallBtn">Start</button>
            <button class="btn secondary" id="stopFallBtn">Stop</button>
            <div style="margin-left:auto" class="muted">Best: <span id="fallBest">0</span></div>
          </div>
        </div>

        <div class="aside">
          <div class="card">
            <div style="font-weight:800">Typing Racer</div>
            <div class="muted">Type phrases to move your racer forward.</div>
            <div class="display-word" id="racerTarget" style="margin-top:10px">Press Start</div>
            <input id="racerInput" placeholder="Type phrase and press Enter" onkeydown="if(event.key==='Enter') handleRacerInput()">
            <div class="controls" style="margin-top:8px">
              <button class="btn" id="startRacerBtn">Start</button>
              <button class="btn secondary" id="stopRacerBtn">Stop</button>
            </div>
            <div style="margin-top:12px" class="muted">Distance: <strong id="racerDist">0</strong> m</div>
          </div>

          <div style="height:12px"></div>

          <div class="card">
            <div class="muted">Leaderboard (Local)</div>
            <div id="leaderboard" style="margin-top:8px" class="muted">No scores yet</div>
          </div>
        </div>
      </div>
    </section>

    <!-- TEST -->
    <section id="test" class="card fade-in">
      <h2>Typing Test</h2>
      <div class="muted">1-minute test. Results save to Analytics automatically.</div>

      <div class="row" style="margin-top:12px">
        <div class="col card">
          <div class="muted">Passage</div>
          <div id="testPassage" style="margin-top:8px;min-height:80px;font-weight:600"></div>
          <textarea id="testInput" placeholder="Type here..." oninput="/* live */"></textarea>
          <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
            <button class="btn" id="startTestBtn">Start 60s Test</button>
            <button class="btn secondary" id="stopTestBtn">Stop</button>
            <div style="margin-left:auto" class="muted">Time left: <span id="testTimer">60</span>s</div>
          </div>
        </div>

        <div class="aside card">
          <div class="muted">Latest Result</div>
          <div style="margin-top:8px;font-weight:900;font-size:20px" id="latestWPM">-- WPM</div>
          <div class="muted" id="latestAcc">-- % accuracy</div>
          <div style="margin-top:12px" class="controls">
            <button id="downloadCert" style="display:none">Download Certificate</button>
          </div>
          <div style="margin-top:12px" class="muted">Certificates for >=40 WPM & >=90% accuracy</div>
        </div>
      </div>
    </section>

    <!-- ANALYTICS -->
    <section id="analytics" class="card fade-in">
      <h2>Performance Analytics</h2>
      <div class="muted">WPM and accuracy over time (saved locally).</div>

      <div class="charts" style="margin-top:12px">
        <div class="chart-card card">
          <canvas id="wpmChart"></canvas>
        </div>
        <div class="chart-card card">
          <canvas id="accChart"></canvas>
        </div>
      </div>
    </section>

    <!-- CHALLENGES & STREAK -->
    <section id="challenges" class="card fade-in">
      <h2>Daily Challenge & Streak</h2>
      <div class="muted">Complete today's challenge to earn XP and streak progress.</div>

      <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
        <div class="card" style="flex:1;min-width:220px">
          <div class="muted">Today's Challenge</div>
          <div style="font-weight:900;margin-top:6px" id="dailyTarget">-- WPM</div>
          <div class="controls" style="margin-top:10px">
            <button class="btn" id="attemptChallenge">Attempt</button>
            <button class="btn secondary" id="resetChallenge">Reset</button>
          </div>
        </div>
        <div class="card" style="width:220px">
          <div class="muted">Streak</div>
          <div style="font-weight:900;margin-top:6px" id="streakDisplay">0 days</div>
        </div>

        <div class="card" style="flex-basis:100%">
          <div class="muted">Tips</div>
          <ul style="margin-top:8px;color:var(--muted)">
            <li>Practice 15 minutes daily to maintain streak.</li>
            <li>Play a short game to warm up before tests.</li>
            <li>Use custom practice for domain-specific typing (code, essays).</li>
          </ul>
        </div>
      </div>
    </section>

    <footer style="text-align:center;color:var(--muted);margin-top:18px;padding-bottom:40px">
      TypeQuest — Light edition • Data stored locally in your browser.
    </footer>
  </main>

  <!-- Modal: Profile/Login -->
  <div class="modal-back" id="modal">
    <div class="modal card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div style="font-weight:800">Profile</div>
          <div class="muted">Set your display name (saved locally)</div>
        </div>
        <div><button class="icon-btn" onclick="closeModal()">✕</button></div>
      </div>

      <div style="margin-top:12px">
        <label class="muted">Display name</label>
        <input id="nameInput" placeholder="Your name">
      </div>

      <div style="margin-top:12px;display:flex;gap:8px">
        <button class="btn" onclick="saveProfile()">Save</button>
        <button class="btn secondary" onclick="logout()">Logout</button>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
  </body>
  </html>
    
      
     
          
